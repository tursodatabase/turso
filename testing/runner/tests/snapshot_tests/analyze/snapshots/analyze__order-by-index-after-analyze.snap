---
source: analyze.sqltest
expression: SELECT id, sku, price FROM products ORDER BY price LIMIT 5;
info:
  statement_type: SELECT
  tables:
  - products
  setup_blocks:
  - populated_products
  database: ':memory:'
---
QUERY PLAN
|--SCAN products
`--USE SORTER FOR ORDER BY

BYTECODE
addr  opcode          p1  p2  p3  p4                p5  comment
   0  Init             0  23   0                     0  Start at 23
   1  SorterOpen       0   1   0  k(1,B)             0  cursor=0
   2  Integer          5   5   0                     0  r[5]=5; LIMIT counter
   3  IfNot            5  13   0                     0  if !r[5] goto 13
   4  OpenRead         1   2   0  k(6,B,B,B,B,B,B)   0  table=products, root=2, iDb=0
   5  Rewind           1  13   0                     0  Rewind table products
   6    Column         1   4   6                     0  r[6]=products.price
   7    RealAffinity   6   0   0                     0
   8    RowId          1   7   0                     0  r[7]=products.rowid
   9    Column         1   1   8                     0  r[8]=products.sku
  10    MakeRecord     6   3   4                     0  r[4]=mkrec(r[6..8])
  11    SorterInsert   0   4   0  0                  0  key=r[4]
  12  Next             1   6   0                     0
  13  OpenPseudo       2   4   3                     0  3 columns in r[4]
  14  SorterSort       0  22   0                     0
  15    SorterData     0   4   2                     0  r[4]=data
  16    Column         2   1   1                     0  r[1]=pseudo.column 1
  17    Column         2   2   2                     0  r[2]=pseudo.column 2
  18    Column         2   0   3                     0  r[3]=pseudo.column 0
  19    ResultRow      1   3   0                     0  output=r[1..3]
  20    DecrJumpZero   5  22   0                     0  if (--r[5]==0) goto 22
  21  SorterNext       0  15   0                     0
  22  Halt             0   0   0                     0
  23  Transaction      0   1   5                     0  iDb=0 tx_mode=Read
  24  Goto             0   1   0                     0
