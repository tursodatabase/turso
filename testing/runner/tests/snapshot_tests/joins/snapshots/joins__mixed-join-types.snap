---
source: joins.sqltest
expression: "SELECT\n        c.name AS customer_name,\n        o.order_id,\n        oi.quantity,\n        p.name AS product_name\n    FROM\n        customers c\n    LEFT OUTER JOIN orders o ON c.customer_id = o.customer_id\n    INNER JOIN order_items oi ON o.order_id = oi.order_id\n    INNER JOIN products p ON oi.product_id = p.product_id;"
info:
  statement_type: SELECT
  tables:
    - c.customer_id
    - customers
    - o.order_id
    - oi.product_id
    - order_items
    - orders
    - products
  setup_blocks:
    - schema
  database: ":memory:"
---
QUERY PLAN
|--SEARCH c USING INTEGER PRIMARY KEY (rowid=?)
|--SEARCH o USING INTEGER PRIMARY KEY (rowid=?)
|--SCAN order_items AS oi
`--SEARCH p USING INTEGER PRIMARY KEY (rowid=?)

BYTECODE
addr  opcode       p1  p2  p3  p4              p5  comment
   0  Init          0  19   0                   0  Start at 19
   1  OpenRead      0   2   0  k(5,B,B,B,B,B)   0  table=customers, root=2, iDb=0
   2  OpenRead      1   4   0  k(5,B,B,B,B,B)   0  table=orders, root=4, iDb=0
   3  OpenRead      2   5   0  k(5,B,B,B,B,B)   0  table=order_items, root=5, iDb=0
   4  OpenRead      3   3   0  k(5,B,B,B,B,B)   0  table=products, root=3, iDb=0
   5  Rewind        2  18   0                   0  Rewind table order_items
   6    Column      2   2   5                   0  r[5]=order_items.product_id
   7    SeekRowid   3   5  17                   0  if (r[5]!=cursor 3 for table products.rowid) goto 17
   8    Column      2   1   6                   0  r[6]=order_items.order_id
   9    SeekRowid   1   6  17                   0  if (r[6]!=cursor 1 for table orders.rowid) goto 17
  10    Column      1   1   7                   0  r[7]=orders.customer_id
  11    SeekRowid   0   7  17                   0  if (r[7]!=cursor 0 for table customers.rowid) goto 17
  12    Column      0   1   1                   0  r[1]=customers.name
  13    RowId       1   2   0                   0  r[2]=orders.rowid
  14    Column      2   3   3                   0  r[3]=order_items.quantity
  15    Column      3   1   4                   0  r[4]=products.name
  16    ResultRow   1   4   0                   0  output=r[1..4]
  17  Next          2   6   0                   0
  18  Halt          0   0   0                   0
  19  Transaction   0   1  10                   0  iDb=0 tx_mode=Read
  20  Goto          0   1   0                   0
