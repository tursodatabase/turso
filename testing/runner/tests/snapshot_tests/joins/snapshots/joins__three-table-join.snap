---
source: joins.sqltest
expression: "SELECT\n        c.name AS customer_name,\n        o.order_id,\n        o.order_date,\n        p.name AS product_name,\n        oi.quantity,\n        oi.unit_price\n    FROM\n        customers c,\n        orders o,\n        order_items oi,\n        products p\n    WHERE\n        c.customer_id = o.customer_id\n        AND o.order_id = oi.order_id\n        AND oi.product_id = p.product_id;"
info:
  statement_type: SELECT
  tables:
    - customers
  setup_blocks:
    - schema
  database: ":memory:"
---
QUERY PLAN
|--SEARCH c USING INTEGER PRIMARY KEY (rowid=?)
|--SEARCH o USING INTEGER PRIMARY KEY (rowid=?)
|--SCAN order_items AS oi
`--SEARCH p USING INTEGER PRIMARY KEY (rowid=?)

BYTECODE
addr  opcode       p1  p2  p3  p4              p5  comment
   0  Init          0  21   0                   0  Start at 21
   1  OpenRead      0   2   0  k(5,B,B,B,B,B)   0  table=customers, root=2, iDb=0
   2  OpenRead      1   4   0  k(5,B,B,B,B,B)   0  table=orders, root=4, iDb=0
   3  OpenRead      2   5   0  k(5,B,B,B,B,B)   0  table=order_items, root=5, iDb=0
   4  OpenRead      3   3   0  k(5,B,B,B,B,B)   0  table=products, root=3, iDb=0
   5  Rewind        2  20   0                   0  Rewind table order_items
   6    Column      2   2   7                   0  r[7]=order_items.product_id
   7    SeekRowid   3   7  19                   0  if (r[7]!=cursor 3 for table products.rowid) goto 19
   8    Column      2   1   8                   0  r[8]=order_items.order_id
   9    SeekRowid   1   8  19                   0  if (r[8]!=cursor 1 for table orders.rowid) goto 19
  10    Column      1   1   9                   0  r[9]=orders.customer_id
  11    SeekRowid   0   9  19                   0  if (r[9]!=cursor 0 for table customers.rowid) goto 19
  12    Column      0   1   1                   0  r[1]=customers.name
  13    RowId       1   2   0                   0  r[2]=orders.rowid
  14    Column      1   2   3                   0  r[3]=orders.order_date
  15    Column      3   1   4                   0  r[4]=products.name
  16    Column      2   3   5                   0  r[5]=order_items.quantity
  17    Column      2   4   6                   0  r[6]=order_items.unit_price
  18    ResultRow   1   6   0                   0  output=r[1..6]
  19  Next          2   6   0                   0
  20  Halt          0   0   0                   0
  21  Transaction   0   1  10                   0  iDb=0 tx_mode=Read
  22  Goto          0   1   0                   0
