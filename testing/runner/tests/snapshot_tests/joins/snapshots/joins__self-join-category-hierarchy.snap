---
source: joins.sqltest
expression: |-
  SELECT
          c.category_id,
          c.category_name,
          p.category_name AS parent_category_name
      FROM
          categories c
      LEFT OUTER JOIN categories p ON c.parent_category_id = p.category_id;
info:
  statement_type: SELECT
  tables:
  - c.parent_category_id
  - categories
  setup_blocks:
  - schema
  database: ':memory:'
---
QUERY PLAN
|--SCAN categories AS c
`--SEARCH p USING INTEGER PRIMARY KEY (rowid=?)

BYTECODE
addr  opcode       p1  p2  p3  p4          p5  comment
   0  Init          0  17   0               0  Start at 17
   1  OpenRead      0   7   0  k(3,B,B,B)   0  table=categories, root=7, iDb=0
   2  OpenRead      1   7   0  k(3,B,B,B)   0  table=categories, root=7, iDb=0
   3  Rewind        0  16   0               0  Rewind table categories
   4    Integer     0   4   0               0  r[4]=0
   5    Column      0   2   5               0  r[5]=categories.parent_category_id
   6    SeekRowid   1   5  12               0  if (r[5]!=cursor 1 for table categories.rowid) goto 12
   7    Integer     1   4   0               0  r[4]=1
   8    RowId       0   1   0               0  r[1]=categories.rowid
   9    Column      0   1   2               0  r[2]=categories.category_name
  10    Column      1   1   3               0  r[3]=categories.category_name
  11    ResultRow   1   3   0               0  output=r[1..3]
  12    IfPos       4  15   0               0  r[4]>0 -> r[4]-=0, goto 15
  13    NullRow     1   0   0               0  Set cursor 1 to a (pseudo) NULL row
  14    Goto        0   7   0               0
  15  Next          0   4   0               0
  16  Halt          0   0   0               0
  17  Transaction   0   1  10               0  iDb=0 tx_mode=Read
  18  Goto          0   1   0               0
