---
source: joins.sqltest
expression: "SELECT\n        o.order_id,\n        o.order_date,\n        oi.item_id,\n        oi.quantity,\n        p.name AS product_name\n    FROM\n        orders o\n    INNER JOIN order_items oi ON o.order_id = oi.order_id\n    INNER JOIN products p ON oi.product_id = p.product_id\n    WHERE\n        o.order_id = 100;"
info:
  statement_type: SELECT
  tables:
    - o.order_id
    - oi.product_id
    - order_items
    - orders
    - products
  setup_blocks:
    - schema
  database: ":memory:"
---
QUERY PLAN
|--SEARCH o USING INTEGER PRIMARY KEY (rowid=?)
|--SEARCH oi USING INDEX idx_order_items_order_id
`--SEARCH p USING INTEGER PRIMARY KEY (rowid=?)

BYTECODE
addr  opcode           p1  p2  p3  p4              p5  comment
   0  Init              0  20   0                   0  Start at 20
   1  OpenRead          0   4   0  k(5,B,B,B,B,B)   0  table=orders, root=4, iDb=0
   2  OpenRead          1   5   0  k(5,B,B,B,B,B)   0  table=order_items, root=5, iDb=0
   3  OpenRead          2   9   0  k(2,B)           0  index=idx_order_items_order_id, root=9, iDb=0
   4  OpenRead          3   3   0  k(5,B,B,B,B,B)   0  table=products, root=3, iDb=0
   5  SeekRowid         0   6  19                   0  if (r[6]!=cursor 0 for table orders.rowid) goto 19
   6  RowId             0   7   0                   0  r[7]=orders.rowid
   7  SeekGE            2  19   7                   0  key=[7..7]
   8    IdxGT           2  19   7                   0  key=[7..7]
   9    DeferredSeek    2   1   0                   0
  10    Column          1   2   8                   0  r[8]=order_items.product_id
  11    SeekRowid       3   8  18                   0  if (r[8]!=cursor 3 for table products.rowid) goto 18
  12    RowId           0   1   0                   0  r[1]=orders.rowid
  13    Column          0   2   2                   0  r[2]=orders.order_date
  14    IdxRowId        2   3   0                   0  r[3]=cursor 2 for index idx_order_items_order_id.rowid
  15    Column          1   3   4                   0  r[4]=order_items.quantity
  16    Column          3   1   5                   0  r[5]=products.name
  17    ResultRow       1   5   0                   0  output=r[1..5]
  18  Next              2   8   0                   0
  19  Halt              0   0   0                   0
  20  Transaction       0   1  10                   0  iDb=0 tx_mode=Read
  21  Integer         100   6   0                   0  r[6]=100
  22  Goto              0   1   0                   0
