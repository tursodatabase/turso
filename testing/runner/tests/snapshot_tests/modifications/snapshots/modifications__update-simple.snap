---
source: modifications.sqltest
expression: |-
  UPDATE products
      SET price = price * 1.10, quantity = quantity - 10
      WHERE category = 'Electronics';
info:
  statement_type: UPDATE
  tables:
  - products
  setup_blocks:
  - schema
  database: ':memory:'
---
QUERY PLAN


BYTECODE
addr  opcode            p1  p2  p3  p4              p5  comment
   0  Init               0  23   0                   0  Start at 23
   1  OpenWrite          0   2   0                   0  root=2; iDb=0
   2  OpenWrite          1  11   0                   0  root=11; iDb=0
   3  String8            0   1   0  Electronics      0  r[1]='Electronics'
   4  SeekGE             1  22   1                   0  key=[1..1]
   5    IdxGT            1  22   1                   0  key=[1..1]
   6    DeferredSeek     1   0   0                   0
   7    RowId            0   2   0                   0  r[2]=products.rowid
   8    IsNull           2  22   0                   0  if (r[2]==NULL) goto 22
   9    Null             0   3   0                   0  r[3]=NULL
  10    Column           0   1   4                   0  r[4]=products.name
  11    Column           0   2   8                   0  r[8]=products.price
  12    RealAffinity     8   0   0                   0
  13    Multiply         8   9   5                   0  r[5]=r[8]*r[9]
  14    HaltIfNull    1299   0   5  products.price   0
  15    Column           0   3  10  0                0  r[10]=products.quantity
  16    Subtract        10  11   6                   0  r[6]=r[10]-r[11]
  17    Column           1   0   7                   0  r[7]=idx_products_category.category
  18    Affinity         3   5   0                   0  r[3..8] = D, B, E, D, B
  19    MakeRecord       3   5  12                   0  r[12]=mkrec(r[3..7])
  20    Insert           0  12   2  products         8  intkey=r[2] data=r[12]
  21  Next               1   5   0                   0
  22  Halt               0   0   0                   0
  23  Transaction        0   2  10                   0  iDb=0 tx_mode=Write
  24  Real               0   9   0  1.1              0  r[9]=1.1
  25  Integer           10  11   0                   0  r[11]=10
  26  Goto               0   1   0                   0
