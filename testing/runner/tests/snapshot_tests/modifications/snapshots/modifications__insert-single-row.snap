---
source: modifications.sqltest
expression: "INSERT INTO products (id, name, price, quantity, category)\n    VALUES (1, 'Widget', 19.99, 100, 'Electronics');"
info:
  statement_type: INSERT
  tables:
    - products
  setup_blocks:
    - schema
  database: ":memory:"
---
QUERY PLAN


BYTECODE
addr  opcode         p1  p2  p3  p4              p5  comment
   0  Init            0  28   0                   0  Start at 28
   1  OpenWrite       1   2   0                   0  root=2; iDb=0
   2  Integer         1   2   0                   0  r[2]=1
   3  SoftNull        3   0   0                   0
   4  String8         0   4   0  Widget           0  r[4]='Widget'
   5  Real            0   5   0  19.99            0  r[5]=19.99
   6  Integer       100   6   0                   0  r[6]=100
   7  String8         0   7   0  Electronics      0  r[7]='Electronics'
   8  OpenWrite       0   8   0                   0  root=8; iDb=0
   9  NotNull         2  11   0                   0  r[2]!=NULL -> goto 11
  10  Goto            0  13   0                   0
  11  MustBeInt       2   0   0                   0
  12  Goto            0  14   0                   0
  13  NewRowid        1   2   0                   0  r[2]=rowid
  14  Affinity        3   5   0                   0  r[3..8] = D, B, E, D, B
  15  NotExists       1  17   2                   0
  16  Halt         1555   0   0  products.id      0
  17  Copy            7   9   0                   0  r[9]=r[7]
  18  Copy            2  10   0                   0  r[10]=r[2]
  19  MakeRecord      9   2  11                   0  r[11]=mkrec(r[9..10]); for idx_products_category
  20  IdxInsert       0  11   9                   2  key=r[11]
  21  HaltIfNull   1299   0   4  products.name    0
  22  HaltIfNull   1299   0   5  products.price   0
  23  MakeRecord      3   5   8                   0  r[8]=mkrec(r[3..7])
  24  Insert          1   8   2  products         0  intkey=r[2] data=r[8]
  25  Goto            0  26   0                   0
  26  Goto            0  27   0                   0
  27  Halt            0   0   0                   0
  28  Transaction     0   2   9                   0  iDb=0 tx_mode=Write
  29  Goto            0   1   0                   0
