---
source: modifications.sqltest
expression: |-
  INSERT INTO products (id, name, price, quantity, category)
      VALUES (1, 'Widget', 19.99, 100, 'Electronics');
info:
  statement_type: INSERT
  tables:
  - products
  setup_blocks:
  - schema
  database: ':memory:'
---
QUERY PLAN


BYTECODE
addr  opcode         p1  p2  p3  p4              p5  comment
   0  Init            0  30   0                   0  Start at 30
   1  OpenWrite       1   2   0                   0  root=2; iDb=0
   2  Integer         1   2   0                   0  r[2]=1
   3  SoftNull        3   0   0                   0
   4  String8         0   4   0  Widget           0  r[4]='Widget'
   5  Real            0   5   0  19.99            0  r[5]=19.99
   6  Integer       100   6   0                   0  r[6]=100
   7  String8         0   7   0  Electronics      0  r[7]='Electronics'
   8  OpenWrite       0  11   0                   0  root=11; iDb=0
   9  NotNull         2  11   0                   0  r[2]!=NULL -> goto 11
  10  Goto            0  13   0                   0
  11  MustBeInt       2   0   0                   0
  12  Goto            0  14   0                   0
  13  NewRowid        1   2   0                   0  r[2]=rowid
  14  Affinity        3   5   0                   0  r[3..8] = D, B, E, D, B
  15  NotExists       1  17   2                   0
  16  Halt         1555   0   0  products.id      0
  17  Copy            7   9   0                   0  r[9]=r[7]
  18  Copy            2  10   0                   0  r[10]=r[2]
  19  HaltIfNull   1299   0   4  products.name    0
  20  HaltIfNull   1299   0   5  products.price   0
  21  MakeRecord      3   5   8                   0  r[8]=mkrec(r[3..7])
  22  Copy            7  11   0                   0  r[11]=r[7]
  23  Copy            2  12   0                   0  r[12]=r[2]
  24  MakeRecord     11   2  13                   0  r[13]=mkrec(r[11..12]); for idx_products_category
  25  IdxInsert       0  13  11                   2  key=r[13]
  26  Insert          1   8   2  products         0  intkey=r[2] data=r[8]
  27  Goto            0  28   0                   0
  28  Goto            0  29   0                   0
  29  Halt            0   0   0                   0
  30  Transaction     0   2  10                   0  iDb=0 tx_mode=Write
  31  Goto            0   1   0                   0
