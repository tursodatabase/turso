---
source: subqueries.sqltest
expression: |-
  WITH recent_orders AS (
          SELECT id, customer_id
          FROM orders
          WHERE order_date >= '2024-01-01'
      )
      SELECT c.id, c.name
      FROM customers c
      WHERE EXISTS (
          SELECT 1 FROM recent_orders ro
          WHERE ro.customer_id = c.id
      );
info:
  statement_type: WITH (CTE)
  tables:
  - customers
  - orders
  - recent_orders
  setup_blocks:
  - schema
  database: ':memory:'
---
QUERY PLAN
|--SCAN customers AS c
`--SEARCH ro USING INDEX ephemeral_subquery_t6
   `--SCAN orders
