---
source: returning.sqltest
expression: DELETE FROM t1 WHERE value > 15.0 RETURNING id, name;
info:
  statement_type: DELETE
  tables:
  - t1
  setup_blocks:
  - schema
  - data
  database: ':memory:'
---
QUERY PLAN


BYTECODE
addr  opcode          p1  p2  p3  p4      p5  comment
   0  Init             0  31   0           0  Start at 31
   1  OpenEphemeral    0   1   0           0  cursor=0 is_table=true
   2  OpenWrite        1   2   0           0  root=2; iDb=0
   3  OpenWrite        2   3   0           0  root=3; iDb=0
   4  Rewind           1  25   0           0  Rewind table t1
   5    Column         1   2   2           0  r[2]=t1.value
   6    RealAffinity   2   0   0           0
   7    Le             2   3  24  Binary   0  if r[2]<=r[3] goto 24
   8    RowId          1   4   0           0  r[4]=t1.rowid
   9    RowId          1   5   0           0  r[5]=t1.rowid
  10    Column         1   1   6           0  r[6]=t1.name
  11    Column         1   2   7           0  r[7]=t1.value
  12    Column         1   1   8           0  r[8]=t1.name
  13    RowId          1   9   0           0  r[9]=t1.rowid
  14    IdxDelete      2   8   2           1
  15    Copy           4  10   0           0  r[10]=r[4]
  16    Copy           6  11   0           0  r[11]=r[6]
  17    Copy           7  12   0           0  r[12]=r[7]
  18    Copy          10  13   0           0  r[13]=r[10]
  19    Copy          11  14   0           0  r[14]=r[11]
  20    MakeRecord    13   2  15           0  r[15]=mkrec(r[13..14])
  21    NewRowid       0  16   0           0  r[16]=rowid
  22    Insert         0  15  16           4  intkey=r[16] data=r[15]
  23    Delete         1   0   0  t1       0
  24  Next             1   5   0           0
  25  Rewind           0  30   0           0  Rewind  ephemeral(t1)
  26    Column         0   0  17           0  r[17]=ephemeral(t1).id
  27    Column         0   1  18           0  r[18]=ephemeral(t1).name
  28    ResultRow     17   2   0           0  output=r[17..18]
  29  Next             0  26   0           0
  30  Halt             0   0   0           0
  31  Transaction      0   2   2           0  iDb=0 tx_mode=Write
  32  Real             0   3   0  15.0     0  r[3]=15
  33  Goto             0   1   0           0
