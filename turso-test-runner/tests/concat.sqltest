@database :default:
@database :default-no-rowidalias:

#!/usr/bin/env tclsh
test concat {
    SELECT 'Hello' || ' ' || 'World';
}
expect {
    Hello World
}

test concat-2 {
    SELECT 'Hello' || NULL;
}
expect {
}

test concat-3 {
    SELECT 'Hello' || NULL;
}
expect {
}

test concat-4 {
    SELECT 'A good ' || name FROM products WHERE name = 'hat';
}
expect {
    A good hat
}

test concat-4-2 {
    SELECT 'A good ' || name FROM products WHERE name = 'watch';
}
expect {
}

test concat-blob {
    SELECT hex(x'01' || x'02');
}
expect {
    0102
}

test concat-function-blob {
    SELECT CONCAT(X'41', X'42');
}
expect {
    AB
}

test concat-function-blob-mixed {
    SELECT CONCAT('hello', X'20', 'world');
}
expect {
    hello world
}

test concat-ws-blob-values {
    SELECT CONCAT_WS(',', X'41', X'42');
}
expect {
    A,B
}

test concat-ws-blob-separator {
    SELECT CONCAT_WS(X'2C', 'a', 'b');
}
expect {
    a,b
}
